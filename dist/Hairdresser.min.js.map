{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///Hairdresser.min.js","webpack:///webpack/bootstrap 83157450c3c53cd499af","webpack:///./src/Hairdresser.js","webpack:///./~/invariant/browser.js","webpack:///./~/object-keys/index.js","webpack:///./src/classes/Attrs.js","webpack:///./src/utils.js","webpack:///./src/classes/Controller.js","webpack:///./src/classes/LinkedListNode.js","webpack:///./src/createEventManager.js","webpack:///./~/object-keys/isArguments.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","isElementCacheValid","elem","attrs","parentNode","document","head","each","name","value","getAttribute","_validator","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","_invariant","_invariant2","_objectKeys","_objectKeys2","_utils","_classesAttrs","_classesAttrs2","_classesController","_classesController2","_createEventManager2","_createEventManager3","validator","CTRL_TYPE","TITLE","tagName","ETC","Hairdresser","Override","options","addListener","removeListener","controllers","generateOverrideId","topControllers","_topControllers","observerList","_observerList","createIdGenerator","generateControllerId","addControllerToOverride","override","controller","push","curTopController","selector","insertAfter","forEach","observer","onAddController","getController","toSelector","addController","type","render","arguments","undefined","renderFunc","title","meta","link","update","_this","onUpdate","restore","_this2","onPreRemoveOverride","prev","unlink","create","get","_getActiveController","_getActiveControllers","_this3","sort","map","_addObserver","_this4","removeItem","_renderOnce","eventHandlers","_renderAndListen","_createEventManager","startListeningController","stopListeningController","isControllerListening","removeController","updateOverride","removeOverride","destroyEventManager","destroy","removeObserver","renderToString","_renderOnce2","result","newTitle","newAttrs","html","toHtml","join","getElement","cachedElem","ensureElement","element","querySelector","createElement","setAttribute","appendChild","_renderAndListen2","canUseDOM","oldTitle","onStop","next","attrName","removeChild","invariant","condition","format","a","b","d","e","f","error","Error","args","argIndex","replace","framesToPop","has","hasOwnProperty","toStr","toString","slice","Array","isArgs","hasDontEnumBug","propertyIsEnumerable","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","o","ctor","constructor","blacklistedKeys","$window","$console","$parent","$self","$frames","$webkitIndexedDB","$webkitStorageInfo","hasAutomationEqualityBug","window","k","equalsConstructorPrototypeIfNotBuggy","keysShim","object","isObject","isFunction","isArguments","isString","theKeys","skipProto","String","j","skipConstructor","shim","keys","keysWorksWithArguments","originalKeys","Attrs","_data","_attrNames","_attrNamesLen","_toHtml","_toSelector","callback","array","item","indexOf","splice","_inherits","subClass","superClass","setPrototypeOf","__proto__","_Attrs","_Attrs2","_LinkedListNode2","_LinkedListNode3","Controller","_LinkedListNode","LinkedListNode","node","createEventManager","_ensureOverrideListener","overrideListener","_overrideListeners","OverrideListener","_getControllerListener","_controllerListeners","_ensureControllerListener","controllerListener","ControllerListener","handler","isListening","startListening","stopListening","isReadyToRemove","filter","listener","_override","listening","addControllerListener","_addListenerRet","removeControllerListener","_ref","_overrideListener","_controller","_onUpdate","_onStop","_listening","str","callee"],"mappings":"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","file":"Hairdresser.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Hairdresser\"] = factory();\n\telse\n\t\troot[\"Hairdresser\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Hairdresser\"] = factory();\n\telse\n\t\troot[\"Hairdresser\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _validator;\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tvar _invariant = __webpack_require__(1);\n\t\n\tvar _invariant2 = _interopRequireDefault(_invariant);\n\t\n\tvar _objectKeys = __webpack_require__(2);\n\t\n\tvar _objectKeys2 = _interopRequireDefault(_objectKeys);\n\t\n\tvar _utils = __webpack_require__(4);\n\t\n\tvar _classesAttrs = __webpack_require__(3);\n\t\n\tvar _classesAttrs2 = _interopRequireDefault(_classesAttrs);\n\t\n\tvar _classesController = __webpack_require__(5);\n\t\n\tvar _classesController2 = _interopRequireDefault(_classesController);\n\t\n\tvar _createEventManager2 = __webpack_require__(7);\n\t\n\tvar _createEventManager3 = _interopRequireDefault(_createEventManager2);\n\t\n\tfunction isElementCacheValid(elem, attrs) {\n\t  if (elem.parentNode !== document.head) {\n\t    return false;\n\t  }\n\t  return attrs.each(function (name, value) {\n\t    return elem.getAttribute(name) === value;\n\t  });\n\t}\n\t\n\tvar validator = (_validator = {}, _validator[_classesController2['default'].CTRL_TYPE.TITLE] = function (tagName, value) {\n\t  _invariant2['default'](typeof value === 'string', 'render value for <title> must be a string');\n\t}, _validator[_classesController2['default'].CTRL_TYPE.ETC] = function (tagName, value) {\n\t  _invariant2['default'](typeof value === 'object', 'render value for <' + tagName + '> must be an object');\n\t}, _validator);\n\t\n\t/**\n\t * @callback addListener\n\t * @param {function} callback A function to be bound to event emitter.\n\t * @return {*} A value to pass to {@link removeListener}.\n\t */\n\t\n\t/**\n\t * @callback removeListener\n\t * @param {*} addListenerReturnValue Return value of addListener\n\t */\n\t\n\tvar Hairdresser = (function () {\n\t  /**\n\t   * Create a Hairdresser instance.\n\t   *\n\t   * @return {Hairdresser} Hairdresser instance.\n\t   */\n\t\n\t  Hairdresser.create = function create() {\n\t    return new Hairdresser();\n\t  };\n\t\n\t  /**\n\t   * Expose to allow access to Controller static members. (ex. CTRL_TYPE)\n\t   */\n\t\n\t  _createClass(Hairdresser, null, [{\n\t    key: 'Controller',\n\t    get: function get() {\n\t      return _classesController2['default'];\n\t    }\n\t\n\t    /**\n\t     * Hairdresser constructor.\n\t     *\n\t     * @constructs Hairdresser\n\t     * @return {Hairdresser} a new Hairdresser instance.\n\t     */\n\t  }]);\n\t\n\t  function Hairdresser() {\n\t    _classCallCheck(this, Hairdresser);\n\t\n\t    var topControllers = this._topControllers = {\n\t      /* [selector]: controller */\n\t    };\n\t\n\t    var observerList = this._observerList = [];\n\t\n\t    var generateOverrideId = _utils.createIdGenerator();\n\t    var generateControllerId = _utils.createIdGenerator();\n\t\n\t    var addControllerToOverride = function addControllerToOverride(override, controller) {\n\t      _invariant2['default'](controller instanceof _classesController2['default'], 'controller must be an instance of Controller');\n\t\n\t      controller.override = override;\n\t      override.controllers.push(controller);\n\t\n\t      controller.id = generateControllerId();\n\t\n\t      // Append inserted controller to currently top controller\n\t      var curTopController = topControllers[controller.selector];\n\t      if (curTopController) {\n\t        curTopController.insertAfter(controller);\n\t      }\n\t\n\t      topControllers[controller.selector] = controller;\n\t\n\t      // Fire event to listening observers\n\t      observerList.forEach(function (observer) {\n\t        observer.onAddController(controller);\n\t      });\n\t    };\n\t\n\t    /**\n\t     * Override is the unit of override and consists of a set of controllers.\n\t     *\n\t     * When controller is added to override, the controller overrides top controller.\n\t     * That is, Added controller becomes new top controller and starts listenings,\n\t     * and previous top controller stops listening.\n\t     *\n\t     * @class Override\n\t     * @param {object} options Override options.\n\t     * @return {Override} a new Override instance.\n\t     */\n\t    function Override(options) {\n\t      _invariant2['default'](!options.addListener || options.removeListener, 'addListener requires removeListener');\n\t\n\t      this.addListener = options.addListener;\n\t      this.removeListener = options.removeListener;\n\t      this.controllers = [];\n\t      this.id = generateOverrideId();\n\t    }\n\t\n\t    Override.prototype.getController = function getController(tagName, attrs) {\n\t      var selector = tagName + (attrs ? _classesAttrs2['default'].toSelector(attrs) : '');\n\t\n\t      // Loop from tail to head to select latest inserted value.\n\t      for (var i = this.controllers.length - 1; i >= 0; --i) {\n\t        var controller = this.controllers[i];\n\t        if (controller.selector === selector) {\n\t          return controller;\n\t        }\n\t      }\n\t      return null;\n\t    };\n\t\n\t    // TODO: Inherit document from Controller class\n\t\n\t    /**\n\t     * Add controller for arbitrary element.\n\t     *\n\t     * @memberof Override\n\t     * @param {string} type Type of controller.\n\t     * @param {string} tagName Element tag name.\n\t     * @param {object} attrs Object containing key-value attribute pairs which\n\t     * is used to find element to bind controller to.\n\t     * @param {*} render A value that replaces element contents or a function\n\t     * that returns the element replacing value.\n\t     * @param {object} options Options for element controller.\n\t     * @param {addListener} options.addListener A function that adds controller\n\t     * listener to event emitter.\n\t     * @param {removeListener} options.removeListener A function that removes\n\t     * controller listener.\n\t     * @return {Override} Itself.\n\t     */\n\t    Override.prototype.addController = function addController(type, tagName, attrs, render) {\n\t      var options = arguments.length <= 4 || arguments[4] === undefined ? {} : arguments[4];\n\t\n\t      var renderFunc = undefined;\n\t      if (typeof render !== 'function') {\n\t        validator[type](tagName, render);\n\t        renderFunc = function () {\n\t          return render;\n\t        };\n\t      } else {\n\t        renderFunc = render;\n\t      }\n\t\n\t      var controller = new _classesController2['default'](type, tagName, attrs, renderFunc, options);\n\t      addControllerToOverride(this, controller);\n\t      return this;\n\t    };\n\t\n\t    /**\n\t     * Add controller for `<title>` element.\n\t     *\n\t     * @memberof Override\n\t     * @param {*} render A string which replaces `<title>` value or a function\n\t     * that returns the title replacing string value.\n\t     * @param {object} options Options for element controller.\n\t     * @param {addListener} options.addListener A function that adds controller\n\t     * listener to event emitter.\n\t     * @param {removeListener} options.removeListener A function that removes\n\t     * controller listener.\n\t     * @return {Override} Itself.\n\t     */\n\t    Override.prototype.title = function title(render, options) {\n\t      return this.addController(_classesController2['default'].CTRL_TYPE.TITLE, 'title', {}, render, options);\n\t    };\n\t\n\t    /**\n\t     * Add controller for `<meta>` element.\n\t     *\n\t     * @memberof Override\n\t     * @param {object} attrs Object containing key-value attribute pairs which\n\t     * is used to find element to bind controller to.\n\t     * @param {*} render An object that represents new key-value attribute pairs\n\t     * which will be added to controller's element or a function that returns\n\t     * the object.\n\t     * @param {object} options Options for element controller.\n\t     * @param {addListener} options.addListener A function that adds controller\n\t     * listener to event emitter.\n\t     * @param {removeListener} options.removeListener A function that removes\n\t     * controller listener.\n\t     * @return {Override} Itself.\n\t     */\n\t    Override.prototype.meta = function meta(attrs, render, options) {\n\t      return this.addController(_classesController2['default'].CTRL_TYPE.ETC, 'meta', attrs, render, options);\n\t    };\n\t\n\t    /**\n\t     * Add controller for `<link>` element.\n\t     *\n\t     * @memberof Override\n\t     * @param {object} attrs Object containing key-value attribute pairs which\n\t     * is used to find element to bind controller to.\n\t     * @param {*} render An object that represents new key-value attribute pairs\n\t     * which will be added to controller's element or a function that returns\n\t     * the object.\n\t     * @param {object} options Options for element controller.\n\t     * @param {addListener} options.addListener A function that adds controller\n\t     * listener to event emitter.\n\t     * @param {removeListener} options.removeListener A function that removes\n\t     * controller listener.\n\t     * @return {Override} Itself.\n\t     */\n\t    Override.prototype.link = function link(attrs, render, options) {\n\t      return this.addController(_classesController2['default'].CTRL_TYPE.ETC, 'link', attrs, render, options);\n\t    };\n\t\n\t    /**\n\t     * Rerender elements of override's listening controllers.\n\t     *\n\t     * @memberof Override\n\t     * @return {undefined}\n\t     */\n\t    Override.prototype.update = function update() {\n\t      var _this = this;\n\t\n\t      // Fire event to listening observers\n\t      observerList.forEach(function (observer) {\n\t        observer.onUpdate(_this);\n\t      });\n\t    };\n\t\n\t    /**\n\t     * Remove all override's controllers.\n\t     *\n\t     * When controller is top, the previous controller will become top.\n\t     * If previous controller does not exists, the element bound to this\n\t     * controller will be removed.\n\t     *\n\t     * @memberof Override\n\t     * @return {undefined}\n\t     */\n\t    Override.prototype.restore = function restore() {\n\t      var _this2 = this;\n\t\n\t      // Fire event to listening observers\n\t      observerList.forEach(function (observer) {\n\t        observer.onPreRemoveOverride(_this2);\n\t      });\n\t\n\t      this.controllers.forEach(function (controller) {\n\t        if (controller.prev) {\n\t          topControllers[controller.selector] = controller.prev;\n\t        } else {\n\t          delete topControllers[controller.selector];\n\t        }\n\t        controller.unlink();\n\t      });\n\t    };\n\t\n\t    this.Override = Override;\n\t  }\n\t\n\t  Hairdresser.prototype._getActiveController = function _getActiveController(tagName, attrs) {\n\t    var selector = tagName + (attrs ? _classesAttrs2['default'].toSelector(attrs) : '');\n\t    return this._topControllers[selector];\n\t  };\n\t\n\t  Hairdresser.prototype._getActiveControllers = function _getActiveControllers() {\n\t    var _this3 = this;\n\t\n\t    return _objectKeys2['default'](this._topControllers).sort().map(function (selector) {\n\t      return _this3._topControllers[selector];\n\t    });\n\t  };\n\t\n\t  Hairdresser.prototype._addObserver = function _addObserver(observer) {\n\t    var _this4 = this;\n\t\n\t    this._observerList.push(observer);\n\t    return function () {\n\t      _utils.removeItem(_this4._observerList, observer);\n\t    };\n\t  };\n\t\n\t  /**\n\t   * Create a override instance for overriding current top controllers.\n\t   *\n\t   * When override listener receives an event, top controllers in override\n\t   * rerenders their elements.\n\t   *\n\t   * @param {object} options Override options\n\t   * @param {addListener} options.addListener A function that adds override\n\t   * listener to event listener.\n\t   * @param {removeListener} options.removeListener A function that removes\n\t   * override listener.\n\t   * @return {Override} A override instance.\n\t   */\n\t\n\t  Hairdresser.prototype.override = function override() {\n\t    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    return new this.Override(options);\n\t  };\n\t\n\t  Hairdresser.prototype._renderOnce = function _renderOnce(eventHandlers) {\n\t    this._getActiveControllers().forEach(function (controller) {\n\t      eventHandlers[controller.type].onUpdate(controller);\n\t    });\n\t  };\n\t\n\t  Hairdresser.prototype._renderAndListen = function _renderAndListen(eventHandlers) {\n\t    var _createEventManager = _createEventManager3['default'](eventHandlers);\n\t\n\t    var startListeningController = _createEventManager.startListeningController;\n\t    var stopListeningController = _createEventManager.stopListeningController;\n\t    var isControllerListening = _createEventManager.isControllerListening;\n\t    var removeController = _createEventManager.removeController;\n\t    var updateOverride = _createEventManager.updateOverride;\n\t    var removeOverride = _createEventManager.removeOverride;\n\t    var destroyEventManager = _createEventManager.destroy;\n\t\n\t    // Render and start listening\n\t    this._getActiveControllers().forEach(startListeningController);\n\t\n\t    var removeObserver = this._addObserver({\n\t      onAddController: function onAddController(controller) {\n\t        // Add controller listeners\n\t        if (controller.prev) {\n\t          stopListeningController(controller.prev);\n\t        }\n\t        startListeningController(controller);\n\t      },\n\t\n\t      onUpdate: function onUpdate(override) {\n\t        // Update controller listeners\n\t        updateOverride(override);\n\t      },\n\t\n\t      onPreRemoveOverride: function onPreRemoveOverride(override) {\n\t        override.controllers.forEach(function (controller) {\n\t          if (isControllerListening(controller)) {\n\t            stopListeningController(controller);\n\t            if (controller.prev) {\n\t              startListeningController(controller.prev);\n\t            }\n\t          }\n\t          removeController(controller);\n\t        });\n\t        removeOverride(override);\n\t      }\n\t    });\n\t\n\t    return function () {\n\t      removeObserver();\n\t      destroyEventManager();\n\t    };\n\t  };\n\t\n\t  /**\n\t   * Renders HTML elements as a markup string.\n\t   *\n\t   * @return {string} the HTML markup\n\t   */\n\t\n\t  Hairdresser.prototype.renderToString = function renderToString() {\n\t    var _renderOnce2;\n\t\n\t    var result = [];\n\t\n\t    this._renderOnce((_renderOnce2 = {}, _renderOnce2[_classesController2['default'].CTRL_TYPE.TITLE] = {\n\t      onUpdate: function onUpdate(controller) {\n\t        var newTitle = controller.render();\n\t        validator[_classesController2['default'].CTRL_TYPE.TITLE](controller.tagName, newTitle);\n\t\n\t        result.push('<title>' + newTitle + '</title>');\n\t      }\n\t    }, _renderOnce2[_classesController2['default'].CTRL_TYPE.ETC] = {\n\t      onUpdate: function onUpdate(controller) {\n\t        var newAttrs = controller.render();\n\t        validator[_classesController2['default'].CTRL_TYPE.ETC](controller.tagName, newAttrs);\n\t\n\t        // Update attributes\n\t        result.push('<' + controller.tagName + ' ' + controller.attrs.html + ' ' + _classesAttrs2['default'].toHtml(newAttrs) + '>');\n\t      }\n\t    }, _renderOnce2));\n\t\n\t    return result.join('');\n\t  };\n\t\n\t  /**\n\t   * Renders HTML elements into the DOM in the `<head>` element,\n\t   * and watch further changes of the hairdresser instance.\n\t   *\n\t   * @return {function} Restore changes and stop watching the hairdresser\n\t   * instance function.\n\t   */\n\t\n\t  Hairdresser.prototype.render = function render() {\n\t    var _renderAndListen2;\n\t\n\t    _invariant2['default'](_utils.canUseDOM(), 'Cannot use DOM object. ' + 'Make sure `window` and `document` are available globally.');\n\t\n\t    var cachedElem = {};\n\t\n\t    function getElement(controller) {\n\t      var elem = cachedElem[controller.id];\n\t      if (!elem) {\n\t        return null;\n\t      }\n\t\n\t      if (isElementCacheValid(elem, controller.attrs)) {\n\t        return elem;\n\t      }\n\t\n\t      delete cachedElem[controller.id];\n\t      return null;\n\t    }\n\t\n\t    function ensureElement(controller) {\n\t      var element = getElement(controller);\n\t      if (element) {\n\t        return element;\n\t      }\n\t\n\t      element = document.head.querySelector('' + controller.selector);\n\t\n\t      if (element) {\n\t        cachedElem[controller.id] = element;\n\t        return element;\n\t      }\n\t\n\t      element = document.createElement(controller.tagName);\n\t      controller.attrs.each(function (name, value) {\n\t        element.setAttribute(name, value);\n\t      });\n\t      document.head.appendChild(element);\n\t\n\t      cachedElem[controller.id] = element;\n\t      return element;\n\t    }\n\t\n\t    var oldTitle = document.title;\n\t\n\t    return this._renderAndListen((_renderAndListen2 = {}, _renderAndListen2[_classesController2['default'].CTRL_TYPE.TITLE] = {\n\t      onUpdate: function onUpdate(controller) {\n\t        var newTitle = controller.render();\n\t        validator[_classesController2['default'].CTRL_TYPE.TITLE](controller.tagName, newTitle);\n\t        document.title = newTitle;\n\t      },\n\t\n\t      onStop: function onStop(controller) {\n\t        if (!controller.prev && !controller.next) {\n\t          document.title = oldTitle;\n\t        }\n\t      }\n\t    }, _renderAndListen2[_classesController2['default'].CTRL_TYPE.ETC] = {\n\t      onUpdate: function onUpdate(controller) {\n\t        var element = ensureElement(controller);\n\t\n\t        // Update attributes\n\t        var newAttrs = controller.render();\n\t        validator[_classesController2['default'].CTRL_TYPE.ETC](controller.tagName, newAttrs);\n\t\n\t        _objectKeys2['default'](newAttrs).forEach(function (attrName) {\n\t          element.setAttribute(attrName, newAttrs[attrName]);\n\t        });\n\t      },\n\t\n\t      onStop: function onStop(controller) {\n\t        if (!controller.prev && !controller.next) {\n\t          var element = getElement(controller);\n\t          if (element) {\n\t            element.parentNode.removeChild(element);\n\t          }\n\t        }\n\t      }\n\t    }, _renderAndListen2));\n\t  };\n\t\n\t  return Hairdresser;\n\t})();\n\t\n\texports['default'] = Hairdresser;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Copyright 2013-2015, Facebook, Inc.\n\t * All rights reserved.\n\t *\n\t * This source code is licensed under the BSD-style license found in the\n\t * LICENSE file in the root directory of this source tree. An additional grant\n\t * of patent rights can be found in the PATENTS file in the same directory.\n\t *\n\t * @providesModule invariant\n\t */\n\t\n\t'use strict';\n\t\n\t/**\n\t * Use invariant() to assert state which your program assumes to be true.\n\t *\n\t * Provide sprintf-style format (only %s is supported) and arguments\n\t * to provide information about what broke and what you were\n\t * expecting.\n\t *\n\t * The invariant message will be stripped in production, but the invariant\n\t * will remain to ensure logic does not differ in production.\n\t */\n\t\n\tvar invariant = function(condition, format, a, b, c, d, e, f) {\n\t  if (false) {\n\t    if (format === undefined) {\n\t      throw new Error('invariant requires an error message argument');\n\t    }\n\t  }\n\t\n\t  if (!condition) {\n\t    var error;\n\t    if (format === undefined) {\n\t      error = new Error(\n\t        'Minified exception occurred; use the non-minified dev environment ' +\n\t        'for the full error message and additional helpful warnings.'\n\t      );\n\t    } else {\n\t      var args = [a, b, c, d, e, f];\n\t      var argIndex = 0;\n\t      error = new Error(\n\t        'Invariant Violation: ' +\n\t        format.replace(/%s/g, function() { return args[argIndex++]; })\n\t      );\n\t    }\n\t\n\t    error.framesToPop = 1; // we don't care about invariant's own frame\n\t    throw error;\n\t  }\n\t};\n\t\n\tmodule.exports = invariant;\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// modified from https://github.com/es-shims/es5-shim\n\tvar has = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\tvar slice = Array.prototype.slice;\n\tvar isArgs = __webpack_require__(8);\n\tvar hasDontEnumBug = !({ 'toString': null }).propertyIsEnumerable('toString');\n\tvar hasProtoEnumBug = function () {}.propertyIsEnumerable('prototype');\n\tvar dontEnums = [\n\t\t'toString',\n\t\t'toLocaleString',\n\t\t'valueOf',\n\t\t'hasOwnProperty',\n\t\t'isPrototypeOf',\n\t\t'propertyIsEnumerable',\n\t\t'constructor'\n\t];\n\tvar equalsConstructorPrototype = function (o) {\n\t\tvar ctor = o.constructor;\n\t\treturn ctor && ctor.prototype === o;\n\t};\n\tvar blacklistedKeys = {\n\t\t$window: true,\n\t\t$console: true,\n\t\t$parent: true,\n\t\t$self: true,\n\t\t$frames: true,\n\t\t$webkitIndexedDB: true,\n\t\t$webkitStorageInfo: true\n\t};\n\tvar hasAutomationEqualityBug = (function () {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined') { return false; }\n\t\tfor (var k in window) {\n\t\t\tif (!blacklistedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\ttry {\n\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}());\n\tvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined' && !hasAutomationEqualityBug) {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t}\n\t\ttry {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\t\n\tvar keysShim = function keys(object) {\n\t\tvar isObject = object !== null && typeof object === 'object';\n\t\tvar isFunction = toStr.call(object) === '[object Function]';\n\t\tvar isArguments = isArgs(object);\n\t\tvar isString = isObject && toStr.call(object) === '[object String]';\n\t\tvar theKeys = [];\n\t\n\t\tif (!isObject && !isFunction && !isArguments) {\n\t\t\tthrow new TypeError('Object.keys called on a non-object');\n\t\t}\n\t\n\t\tvar skipProto = hasProtoEnumBug && isFunction;\n\t\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\t\ttheKeys.push(String(i));\n\t\t\t}\n\t\t}\n\t\n\t\tif (isArguments && object.length > 0) {\n\t\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\t\ttheKeys.push(String(j));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var name in object) {\n\t\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\t\ttheKeys.push(String(name));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\tif (hasDontEnumBug) {\n\t\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\t\n\t\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn theKeys;\n\t};\n\t\n\tkeysShim.shim = function shimObjectKeys() {\n\t\tif (!Object.keys) {\n\t\t\tObject.keys = keysShim;\n\t\t} else {\n\t\t\tvar keysWorksWithArguments = (function () {\n\t\t\t\t// Safari 5.0 bug\n\t\t\t\treturn (Object.keys(arguments) || '').length === 2;\n\t\t\t}(1, 2));\n\t\t\tif (!keysWorksWithArguments) {\n\t\t\t\tvar originalKeys = Object.keys;\n\t\t\t\tObject.keys = function keys(object) {\n\t\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn originalKeys(object);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn Object.keys || keysShim;\n\t};\n\t\n\tmodule.exports = keysShim;\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tvar _objectKeys = __webpack_require__(2);\n\t\n\tvar _objectKeys2 = _interopRequireDefault(_objectKeys);\n\t\n\tvar Attrs = (function () {\n\t  Attrs._toHtml = function _toHtml(keys, obj) {\n\t    return keys.map(function (key) {\n\t      return key + '=\"' + obj[key] + '\"';\n\t    }).join(' ');\n\t  };\n\t\n\t  Attrs.toHtml = function toHtml(obj) {\n\t    return Attrs._toHtml(_objectKeys2['default'](obj).sort(), obj);\n\t  };\n\t\n\t  Attrs._toSelector = function _toSelector(keys, obj) {\n\t    return keys.map(function (attrName) {\n\t      return '[' + attrName + '=\\'' + obj[attrName] + '\\']';\n\t    }).join('');\n\t  };\n\t\n\t  Attrs.toSelector = function toSelector(obj) {\n\t    return Attrs._toSelector(_objectKeys2['default'](obj).sort(), obj);\n\t  };\n\t\n\t  function Attrs(obj) {\n\t    _classCallCheck(this, Attrs);\n\t\n\t    this._data = obj;\n\t\n\t    this._attrNames = _objectKeys2['default'](this._data).sort();\n\t    this._attrNamesLen = this._attrNames.length;\n\t\n\t    this.html = Attrs._toHtml(this._attrNames, this._data);\n\t    this.selector = Attrs._toSelector(this._attrNames, this._data);\n\t  }\n\t\n\t  Attrs.prototype.each = function each(callback) {\n\t    for (var i = 0; i < this._attrNamesLen; ++i) {\n\t      var attrName = this._attrNames[i];\n\t      if (callback(attrName, this._data[attrName]) === false) {\n\t        return false;\n\t      }\n\t    }\n\t    return true;\n\t  };\n\t\n\t  return Attrs;\n\t})();\n\t\n\texports['default'] = Attrs;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\tfunction removeItem(array, item) {\n\t  var i = array.indexOf(item);\n\t  if (i !== -1) {\n\t    array.splice(i, 1);\n\t  }\n\t}\n\t\n\tfunction createIdGenerator() {\n\t  var id = 0;\n\t  return function () {\n\t    return ++id;\n\t  };\n\t}\n\t\n\tfunction canUseDOM() {\n\t  return typeof document !== 'undefined';\n\t}\n\t\n\texports['default'] = {\n\t  removeItem: removeItem,\n\t  createIdGenerator: createIdGenerator,\n\t  canUseDOM: canUseDOM\n\t};\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _invariant = __webpack_require__(1);\n\t\n\tvar _invariant2 = _interopRequireDefault(_invariant);\n\t\n\tvar _Attrs = __webpack_require__(3);\n\t\n\tvar _Attrs2 = _interopRequireDefault(_Attrs);\n\t\n\tvar _LinkedListNode2 = __webpack_require__(6);\n\t\n\tvar _LinkedListNode3 = _interopRequireDefault(_LinkedListNode2);\n\t\n\tvar Controller = (function (_LinkedListNode) {\n\t  _inherits(Controller, _LinkedListNode);\n\t\n\t  _createClass(Controller, null, [{\n\t    key: 'CTRL_TYPE',\n\t\n\t    /**\n\t     * Controller types.\n\t     */\n\t    get: function get() {\n\t      return {\n\t        TITLE: 'title',\n\t        ETC: 'etc'\n\t      };\n\t    }\n\t\n\t    /**\n\t     * Controller constructor.\n\t     *\n\t     * Controller is an object that manages an element in `<head>` element.\n\t     * If multiple controllers are bound to one element, only the last bound\n\t     * controller is used.\n\t     * The last bound controller is called top controller.\n\t     *\n\t     * When top controller is removed, previous controller of that one becomes\n\t     * the new top controller.\n\t     *\n\t     * @constructs Controller\n\t     * @param {string} type Type of controller.\n\t     * @param {string} tagName Element tag name.\n\t     * @param {object} attrs Object containing key-value attribute pairs, which is\n\t     * used to find element to bind controller to.\n\t     * @param {function} render A function that returns new element value.\n\t     * The type of return value depends on controller type.\n\t     * @param {object} options Controller options.\n\t     * @param {addListener} options.addListener A function that adds controller\n\t     * listener to event emitter.\n\t     * @param {removeListener} options.removeListener A function that removes\n\t     * controller listener.\n\t     * @return {Controller} a new Controller instance.\n\t     */\n\t  }]);\n\t\n\t  function Controller(type, tagName, attrs, render) {\n\t    var options = arguments.length <= 4 || arguments[4] === undefined ? {} : arguments[4];\n\t\n\t    _classCallCheck(this, Controller);\n\t\n\t    _LinkedListNode.call(this);\n\t\n\t    _invariant2['default'](typeof render === 'function', 'render function is required');\n\t    _invariant2['default'](!options.addListener || options.removeListener, 'addListener requires removeListener');\n\t\n\t    this.type = type;\n\t\n\t    this.attrs = new _Attrs2['default'](attrs);\n\t    this.tagName = tagName;\n\t    this.selector = this.tagName + this.attrs.selector;\n\t\n\t    this.render = render;\n\t\n\t    this.addListener = options.addListener;\n\t    this.removeListener = options.removeListener;\n\t  }\n\t\n\t  return Controller;\n\t})(_LinkedListNode3['default']);\n\t\n\texports['default'] = Controller;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\texports.__esModule = true;\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction link(prev, next) {\n\t  if (prev) {\n\t    prev.next = next;\n\t  }\n\t\n\t  if (next) {\n\t    next.prev = prev;\n\t  }\n\t}\n\t\n\tvar LinkedListNode = (function () {\n\t  function LinkedListNode() {\n\t    _classCallCheck(this, LinkedListNode);\n\t  }\n\t\n\t  LinkedListNode.prototype.insertAfter = function insertAfter(node) {\n\t    link(node, this.next);\n\t    link(this, node);\n\t  };\n\t\n\t  LinkedListNode.prototype.unlink = function unlink() {\n\t    link(this.prev, this.next);\n\t    this.prev = undefined;\n\t    this.next = undefined;\n\t  };\n\t\n\t  return LinkedListNode;\n\t})();\n\t\n\texports[\"default\"] = LinkedListNode;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\texports['default'] = createEventManager;\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tvar _invariant = __webpack_require__(1);\n\t\n\tvar _invariant2 = _interopRequireDefault(_invariant);\n\t\n\tvar _objectKeys = __webpack_require__(2);\n\t\n\tvar _objectKeys2 = _interopRequireDefault(_objectKeys);\n\t\n\tvar _utils = __webpack_require__(4);\n\t\n\tvar OverrideListener = (function () {\n\t  function OverrideListener(override) {\n\t    _classCallCheck(this, OverrideListener);\n\t\n\t    this._controllerListeners = [];\n\t    this._override = override;\n\t\n\t    this.listening = false;\n\t  }\n\t\n\t  OverrideListener.prototype.onUpdate = function onUpdate() {\n\t    this._controllerListeners.forEach(function (listener) {\n\t      return listener.onUpdate();\n\t    });\n\t  };\n\t\n\t  OverrideListener.prototype.addControllerListener = function addControllerListener(controllerListener) {\n\t    var _this = this;\n\t\n\t    this._controllerListeners.push(controllerListener);\n\t\n\t    if (this._override.addListener && !this.listening) {\n\t      this.listening = true;\n\t      this._addListenerRet = this._override.addListener(function () {\n\t        _this.onUpdate();\n\t      });\n\t    }\n\t  };\n\t\n\t  OverrideListener.prototype.removeControllerListener = function removeControllerListener(controllerListener) {\n\t    _utils.removeItem(this._controllerListeners, controllerListener);\n\t\n\t    if (this.listening && this._controllerListeners.length === 0) {\n\t      this._override.removeListener(this._addListenerRet);\n\t      this.listening = false;\n\t    }\n\t  };\n\t\n\t  OverrideListener.prototype.isReadyToRemove = function isReadyToRemove() {\n\t    return !this.listening && this._controllerListeners.length === 0;\n\t  };\n\t\n\t  return OverrideListener;\n\t})();\n\t\n\tvar ControllerListener = (function () {\n\t  function ControllerListener(_ref) {\n\t    var controller = _ref.controller;\n\t    var overrideListener = _ref.overrideListener;\n\t    var handler = _ref.handler;\n\t\n\t    _classCallCheck(this, ControllerListener);\n\t\n\t    this._overrideListener = overrideListener;\n\t    this.controller = this._controller = controller;\n\t\n\t    this._onUpdate = handler.onUpdate;\n\t    this._onStop = handler.onStop || function onStop() {};\n\t\n\t    this._listening = false;\n\t  }\n\t\n\t  ControllerListener.prototype.onUpdate = function onUpdate() {\n\t    this._onUpdate(this._controller);\n\t    return this;\n\t  };\n\t\n\t  ControllerListener.prototype.onStop = function onStop() {\n\t    this._onStop(this._controller);\n\t    return this;\n\t  };\n\t\n\t  ControllerListener.prototype.startListening = function startListening() {\n\t    var _this2 = this;\n\t\n\t    this._overrideListener.addControllerListener(this);\n\t    if (this._controller.addListener) {\n\t      this._addListenerRet = this._controller.addListener(function () {\n\t        _this2.onUpdate();\n\t      });\n\t    }\n\t    this._listening = true;\n\t    return this;\n\t  };\n\t\n\t  ControllerListener.prototype.stopListening = function stopListening() {\n\t    this._overrideListener.removeControllerListener(this);\n\t    if (this._controller.removeListener) {\n\t      this._controller.removeListener(this._addListenerRet);\n\t    }\n\t    this._listening = false;\n\t    return this;\n\t  };\n\t\n\t  ControllerListener.prototype.isListening = function isListening() {\n\t    return this._listening;\n\t  };\n\t\n\t  ControllerListener.prototype.isReadyToRemove = function isReadyToRemove() {\n\t    return !this.isListening();\n\t  };\n\t\n\t  return ControllerListener;\n\t})();\n\t\n\tfunction createEventManager(eventHandlers) {\n\t  var _overrideListeners = {\n\t    /* [override.id]: overriderListener */\n\t  };\n\t\n\t  var _controllerListeners = {\n\t    /* [controller.id]: controllerListener */\n\t  };\n\t\n\t  function _ensureOverrideListener(override) {\n\t    var overrideListener = _overrideListeners[override.id];\n\t    if (!overrideListener) {\n\t      overrideListener = _overrideListeners[override.id] = new OverrideListener(override);\n\t    }\n\t    return overrideListener;\n\t  }\n\t\n\t  function _getControllerListener(controller) {\n\t    return _controllerListeners[controller.id];\n\t  }\n\t\n\t  function _ensureControllerListener(controller) {\n\t    var controllerListener = _getControllerListener(controller);\n\t    if (controllerListener) {\n\t      return controllerListener;\n\t    }\n\t\n\t    var overrideListener = _ensureOverrideListener(controller.override);\n\t    controllerListener = _controllerListeners[controller.id] = new ControllerListener({\n\t      controller: controller,\n\t      overrideListener: overrideListener,\n\t      handler: eventHandlers[controller.type]\n\t    });\n\t    return controllerListener;\n\t  }\n\t\n\t  function isControllerListening(controller) {\n\t    var controllerListener = _getControllerListener(controller);\n\t    if (!controllerListener) {\n\t      return false;\n\t    }\n\t\n\t    return controllerListener.isListening();\n\t  }\n\t\n\t  function startListeningController(controller) {\n\t    var controllerListener = _ensureControllerListener(controller);\n\t    controllerListener.onUpdate().startListening();\n\t  }\n\t\n\t  function stopListeningController(controller) {\n\t    _invariant2['default'](isControllerListening(controller), 'Only listening controller can be stopped');\n\t\n\t    var controllerListener = _getControllerListener(controller);\n\t    controllerListener.stopListening().onStop();\n\t  }\n\t\n\t  function removeController(controller) {\n\t    var controllerListener = _getControllerListener(controller);\n\t    if (!controllerListener) {\n\t      return;\n\t    }\n\t\n\t    _invariant2['default'](controllerListener.isReadyToRemove(), 'ControllerListener is not ready to remove');\n\t\n\t    delete _controllerListeners[controller.id];\n\t  }\n\t\n\t  function updateOverride(override) {\n\t    var overrideListener = _overrideListeners[override.id];\n\t    if (!overrideListener) {\n\t      return;\n\t    }\n\t\n\t    overrideListener.onUpdate();\n\t  }\n\t\n\t  function removeOverride(override) {\n\t    var overrideListener = _overrideListeners[override.id];\n\t    if (!overrideListener) {\n\t      return;\n\t    }\n\t\n\t    _invariant2['default'](overrideListener.isReadyToRemove(), 'OverrideListener is not ready to remove');\n\t\n\t    delete _overrideListeners[override.id];\n\t  }\n\t\n\t  function destroy() {\n\t    _objectKeys2['default'](_controllerListeners).map(function (id) {\n\t      return _controllerListeners[id];\n\t    }).filter(function (listener) {\n\t      return listener.isListening();\n\t    }).forEach(function (listener) {\n\t      listener.stopListening().onStop();\n\t    });\n\t  }\n\t\n\t  return {\n\t    startListeningController: startListeningController,\n\t    stopListeningController: stopListeningController,\n\t    isControllerListening: isControllerListening,\n\t    removeController: removeController,\n\t    updateOverride: updateOverride,\n\t    removeOverride: removeOverride,\n\t    destroy: destroy\n\t  };\n\t}\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar toStr = Object.prototype.toString;\n\t\n\tmodule.exports = function isArguments(value) {\n\t\tvar str = toStr.call(value);\n\t\tvar isArgs = str === '[object Arguments]';\n\t\tif (!isArgs) {\n\t\t\tisArgs = str !== '[object Array]' &&\n\t\t\t\tvalue !== null &&\n\t\t\t\ttypeof value === 'object' &&\n\t\t\t\ttypeof value.length === 'number' &&\n\t\t\t\tvalue.length >= 0 &&\n\t\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t\t}\n\t\treturn isArgs;\n\t};\n\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** Hairdresser.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 83157450c3c53cd499af\n **/","import invariant from 'invariant';\nimport objectKeys from 'object-keys';\n\nimport {\n  canUseDOM,\n  removeItem,\n  createIdGenerator,\n} from './utils';\nimport Attrs from './classes/Attrs';\nimport Controller from './classes/Controller';\nimport createEventManager from './createEventManager';\n\nfunction isElementCacheValid(elem, attrs) {\n  if (elem.parentNode !== document.head) {\n    return false;\n  }\n  return attrs.each((name, value) => elem.getAttribute(name) === value);\n}\n\nconst validator = {\n  [Controller.CTRL_TYPE.TITLE]: (tagName, value) => {\n    invariant(typeof value === 'string', 'render value for <title> must be a string');\n  },\n\n  [Controller.CTRL_TYPE.ETC]: (tagName, value) => {\n    invariant(typeof value === 'object', `render value for <${tagName}> must be an object`);\n  },\n};\n\n/**\n * @callback addListener\n * @param {function} callback A function to be bound to event emitter.\n * @return {*} A value to pass to {@link removeListener}.\n */\n\n/**\n * @callback removeListener\n * @param {*} addListenerReturnValue Return value of addListener\n */\n\nexport default class Hairdresser {\n  /**\n   * Create a Hairdresser instance.\n   *\n   * @return {Hairdresser} Hairdresser instance.\n   */\n  static create() {\n    return new Hairdresser();\n  }\n\n  /**\n   * Expose to allow access to Controller static members. (ex. CTRL_TYPE)\n   */\n  static get Controller() {\n    return Controller;\n  }\n\n  /**\n   * Hairdresser constructor.\n   *\n   * @constructs Hairdresser\n   * @return {Hairdresser} a new Hairdresser instance.\n   */\n  constructor() {\n    const topControllers = this._topControllers = {\n      /* [selector]: controller */\n    };\n\n    const observerList = this._observerList = [];\n\n    const generateOverrideId = createIdGenerator();\n    const generateControllerId = createIdGenerator();\n\n    const addControllerToOverride = (override, controller) => {\n      invariant(controller instanceof Controller,\n                'controller must be an instance of Controller');\n\n      controller.override = override;\n      override.controllers.push(controller);\n\n      controller.id = generateControllerId();\n\n      // Append inserted controller to currently top controller\n      const curTopController = topControllers[controller.selector];\n      if (curTopController) {\n        curTopController.insertAfter(controller);\n      }\n\n      topControllers[controller.selector] = controller;\n\n      // Fire event to listening observers\n      observerList.forEach(observer => {\n        observer.onAddController(controller);\n      });\n    };\n\n    /**\n     * Override is the unit of override and consists of a set of controllers.\n     *\n     * When controller is added to override, the controller overrides top controller.\n     * That is, Added controller becomes new top controller and starts listenings,\n     * and previous top controller stops listening.\n     *\n     * @class Override\n     * @param {object} options Override options.\n     * @return {Override} a new Override instance.\n     */\n    function Override(options) {\n      invariant(!options.addListener || options.removeListener,\n                'addListener requires removeListener');\n\n      this.addListener = options.addListener;\n      this.removeListener = options.removeListener;\n      this.controllers = [];\n      this.id = generateOverrideId();\n    }\n\n    Override.prototype.getController = function getController(tagName, attrs) {\n      const selector = tagName + (attrs ? Attrs.toSelector(attrs) : '');\n\n      // Loop from tail to head to select latest inserted value.\n      for (let i = this.controllers.length - 1; i >= 0; --i) {\n        const controller = this.controllers[i];\n        if (controller.selector === selector) {\n          return controller;\n        }\n      }\n      return null;\n    };\n\n    // TODO: Inherit document from Controller class\n\n    /**\n     * Add controller for arbitrary element.\n     *\n     * @memberof Override\n     * @param {string} type Type of controller.\n     * @param {string} tagName Element tag name.\n     * @param {object} attrs Object containing key-value attribute pairs which\n     * is used to find element to bind controller to.\n     * @param {*} render A value that replaces element contents or a function\n     * that returns the element replacing value.\n     * @param {object} options Options for element controller.\n     * @param {addListener} options.addListener A function that adds controller\n     * listener to event emitter.\n     * @param {removeListener} options.removeListener A function that removes\n     * controller listener.\n     * @return {Override} Itself.\n     */\n    Override.prototype.addController = function addController(type, tagName, attrs,\n                                                              render, options = {}) {\n      let renderFunc;\n      if (typeof render !== 'function') {\n        validator[type](tagName, render);\n        renderFunc = () => render;\n      } else {\n        renderFunc = render;\n      }\n\n      const controller = new Controller(type, tagName, attrs, renderFunc, options);\n      addControllerToOverride(this, controller);\n      return this;\n    };\n\n    /**\n     * Add controller for `<title>` element.\n     *\n     * @memberof Override\n     * @param {*} render A string which replaces `<title>` value or a function\n     * that returns the title replacing string value.\n     * @param {object} options Options for element controller.\n     * @param {addListener} options.addListener A function that adds controller\n     * listener to event emitter.\n     * @param {removeListener} options.removeListener A function that removes\n     * controller listener.\n     * @return {Override} Itself.\n     */\n    Override.prototype.title = function title(render, options) {\n      return this.addController(Controller.CTRL_TYPE.TITLE, 'title', {}, render, options);\n    };\n\n    /**\n     * Add controller for `<meta>` element.\n     *\n     * @memberof Override\n     * @param {object} attrs Object containing key-value attribute pairs which\n     * is used to find element to bind controller to.\n     * @param {*} render An object that represents new key-value attribute pairs\n     * which will be added to controller's element or a function that returns\n     * the object.\n     * @param {object} options Options for element controller.\n     * @param {addListener} options.addListener A function that adds controller\n     * listener to event emitter.\n     * @param {removeListener} options.removeListener A function that removes\n     * controller listener.\n     * @return {Override} Itself.\n     */\n    Override.prototype.meta = function meta(attrs, render, options) {\n      return this.addController(Controller.CTRL_TYPE.ETC, 'meta', attrs, render, options);\n    };\n\n    /**\n     * Add controller for `<link>` element.\n     *\n     * @memberof Override\n     * @param {object} attrs Object containing key-value attribute pairs which\n     * is used to find element to bind controller to.\n     * @param {*} render An object that represents new key-value attribute pairs\n     * which will be added to controller's element or a function that returns\n     * the object.\n     * @param {object} options Options for element controller.\n     * @param {addListener} options.addListener A function that adds controller\n     * listener to event emitter.\n     * @param {removeListener} options.removeListener A function that removes\n     * controller listener.\n     * @return {Override} Itself.\n     */\n    Override.prototype.link = function link(attrs, render, options) {\n      return this.addController(Controller.CTRL_TYPE.ETC, 'link', attrs, render, options);\n    };\n\n    /**\n     * Rerender elements of override's listening controllers.\n     *\n     * @memberof Override\n     * @return {undefined}\n     */\n    Override.prototype.update = function update() {\n      // Fire event to listening observers\n      observerList.forEach(observer => {\n        observer.onUpdate(this);\n      });\n    };\n\n    /**\n     * Remove all override's controllers.\n     *\n     * When controller is top, the previous controller will become top.\n     * If previous controller does not exists, the element bound to this\n     * controller will be removed.\n     *\n     * @memberof Override\n     * @return {undefined}\n     */\n    Override.prototype.restore = function restore() {\n      // Fire event to listening observers\n      observerList.forEach(observer => {\n        observer.onPreRemoveOverride(this);\n      });\n\n      this.controllers.forEach(controller => {\n        if (controller.prev) {\n          topControllers[controller.selector] = controller.prev;\n        } else {\n          delete topControllers[controller.selector];\n        }\n        controller.unlink();\n      });\n    };\n\n    this.Override = Override;\n  }\n\n  _getActiveController(tagName, attrs) {\n    const selector = tagName + (attrs ? Attrs.toSelector(attrs) : '');\n    return this._topControllers[selector];\n  }\n\n  _getActiveControllers() {\n    return objectKeys(this._topControllers).sort()\n      .map(selector => this._topControllers[selector]);\n  }\n\n  _addObserver(observer) {\n    this._observerList.push(observer);\n    return () => {\n      removeItem(this._observerList, observer);\n    };\n  }\n\n  /**\n   * Create a override instance for overriding current top controllers.\n   *\n   * When override listener receives an event, top controllers in override\n   * rerenders their elements.\n   *\n   * @param {object} options Override options\n   * @param {addListener} options.addListener A function that adds override\n   * listener to event listener.\n   * @param {removeListener} options.removeListener A function that removes\n   * override listener.\n   * @return {Override} A override instance.\n   */\n  override(options = {}) {\n    return new this.Override(options);\n  }\n\n  _renderOnce(eventHandlers) {\n    this._getActiveControllers().forEach(controller => {\n      eventHandlers[controller.type].onUpdate(controller);\n    });\n  }\n\n  _renderAndListen(eventHandlers) {\n    const {\n      startListeningController,\n      stopListeningController,\n      isControllerListening,\n      removeController,\n      updateOverride,\n      removeOverride,\n      destroy: destroyEventManager,\n    } = createEventManager(eventHandlers);\n\n    // Render and start listening\n    this._getActiveControllers().forEach(startListeningController);\n\n    const removeObserver = this._addObserver({\n      onAddController: controller => {\n        // Add controller listeners\n        if (controller.prev) {\n          stopListeningController(controller.prev);\n        }\n        startListeningController(controller);\n      },\n\n      onUpdate: override => {\n        // Update controller listeners\n        updateOverride(override);\n      },\n\n      onPreRemoveOverride: override => {\n        override.controllers.forEach(controller => {\n          if (isControllerListening(controller)) {\n            stopListeningController(controller);\n            if (controller.prev) {\n              startListeningController(controller.prev);\n            }\n          }\n          removeController(controller);\n        });\n        removeOverride(override);\n      },\n    });\n\n    return () => {\n      removeObserver();\n      destroyEventManager();\n    };\n  }\n\n  /**\n   * Renders HTML elements as a markup string.\n   *\n   * @return {string} the HTML markup\n   */\n  renderToString() {\n    const result = [];\n\n    this._renderOnce({\n      [Controller.CTRL_TYPE.TITLE]: {\n        onUpdate: controller => {\n          const newTitle = controller.render();\n          validator[Controller.CTRL_TYPE.TITLE](controller.tagName, newTitle);\n\n          result.push(`<title>${newTitle}</title>`);\n        },\n      },\n      [Controller.CTRL_TYPE.ETC]: {\n        onUpdate: controller => {\n          const newAttrs = controller.render();\n          validator[Controller.CTRL_TYPE.ETC](controller.tagName, newAttrs);\n\n          // Update attributes\n          result.push(\n            `<${controller.tagName} ${controller.attrs.html} ${Attrs.toHtml(newAttrs)}>`\n          );\n        },\n      },\n    });\n\n    return result.join('');\n  }\n\n  /**\n   * Renders HTML elements into the DOM in the `<head>` element,\n   * and watch further changes of the hairdresser instance.\n   *\n   * @return {function} Restore changes and stop watching the hairdresser\n   * instance function.\n   */\n  render() {\n    invariant(canUseDOM(),\n              'Cannot use DOM object. ' +\n              'Make sure `window` and `document` are available globally.');\n\n    const cachedElem = {};\n\n    function getElement(controller) {\n      const elem = cachedElem[controller.id];\n      if (!elem) {\n        return null;\n      }\n\n      if (isElementCacheValid(elem, controller.attrs)) {\n        return elem;\n      }\n\n      delete cachedElem[controller.id];\n      return null;\n    }\n\n    function ensureElement(controller) {\n      let element = getElement(controller);\n      if (element) {\n        return element;\n      }\n\n      element = document.head.querySelector(`${controller.selector}`);\n\n      if (element) {\n        cachedElem[controller.id] = element;\n        return element;\n      }\n\n      element = document.createElement(controller.tagName);\n      controller.attrs.each((name, value) => {\n        element.setAttribute(name, value);\n      });\n      document.head.appendChild(element);\n\n      cachedElem[controller.id] = element;\n      return element;\n    }\n\n    const oldTitle = document.title;\n\n    return this._renderAndListen({\n      [Controller.CTRL_TYPE.TITLE]: {\n        onUpdate: controller => {\n          const newTitle = controller.render();\n          validator[Controller.CTRL_TYPE.TITLE](controller.tagName, newTitle);\n          document.title = newTitle;\n        },\n\n        onStop: controller => {\n          if (!controller.prev && !controller.next) {\n            document.title = oldTitle;\n          }\n        },\n      },\n      [Controller.CTRL_TYPE.ETC]: {\n        onUpdate: controller => {\n          const element = ensureElement(controller);\n\n          // Update attributes\n          const newAttrs = controller.render();\n          validator[Controller.CTRL_TYPE.ETC](controller.tagName, newAttrs);\n\n          objectKeys(newAttrs).forEach(attrName => {\n            element.setAttribute(attrName, newAttrs[attrName]);\n          });\n        },\n\n        onStop: controller => {\n          if (!controller.prev && !controller.next) {\n            const element = getElement(controller);\n            if (element) {\n              element.parentNode.removeChild(element);\n            }\n          }\n        },\n      },\n    });\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Hairdresser.js\n **/","/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule invariant\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        'Invariant Violation: ' +\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/invariant/browser.js\n ** module id = 1\n ** module chunks = 0\n **/","'use strict';\n\n// modified from https://github.com/es-shims/es5-shim\nvar has = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\nvar hasDontEnumBug = !({ 'toString': null }).propertyIsEnumerable('toString');\nvar hasProtoEnumBug = function () {}.propertyIsEnumerable('prototype');\nvar dontEnums = [\n\t'toString',\n\t'toLocaleString',\n\t'valueOf',\n\t'hasOwnProperty',\n\t'isPrototypeOf',\n\t'propertyIsEnumerable',\n\t'constructor'\n];\nvar equalsConstructorPrototype = function (o) {\n\tvar ctor = o.constructor;\n\treturn ctor && ctor.prototype === o;\n};\nvar blacklistedKeys = {\n\t$window: true,\n\t$console: true,\n\t$parent: true,\n\t$self: true,\n\t$frames: true,\n\t$webkitIndexedDB: true,\n\t$webkitStorageInfo: true\n};\nvar hasAutomationEqualityBug = (function () {\n\t/* global window */\n\tif (typeof window === 'undefined') { return false; }\n\tfor (var k in window) {\n\t\tif (!blacklistedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\ttry {\n\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n}());\nvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t/* global window */\n\tif (typeof window === 'undefined' && !hasAutomationEqualityBug) {\n\t\treturn equalsConstructorPrototype(o);\n\t}\n\ttry {\n\t\treturn equalsConstructorPrototype(o);\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nvar keysShim = function keys(object) {\n\tvar isObject = object !== null && typeof object === 'object';\n\tvar isFunction = toStr.call(object) === '[object Function]';\n\tvar isArguments = isArgs(object);\n\tvar isString = isObject && toStr.call(object) === '[object String]';\n\tvar theKeys = [];\n\n\tif (!isObject && !isFunction && !isArguments) {\n\t\tthrow new TypeError('Object.keys called on a non-object');\n\t}\n\n\tvar skipProto = hasProtoEnumBug && isFunction;\n\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\ttheKeys.push(String(i));\n\t\t}\n\t}\n\n\tif (isArguments && object.length > 0) {\n\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\ttheKeys.push(String(j));\n\t\t}\n\t} else {\n\t\tfor (var name in object) {\n\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\ttheKeys.push(String(name));\n\t\t\t}\n\t\t}\n\t}\n\n\tif (hasDontEnumBug) {\n\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t}\n\t\t}\n\t}\n\treturn theKeys;\n};\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (!Object.keys) {\n\t\tObject.keys = keysShim;\n\t} else {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\treturn (Object.keys(arguments) || '').length === 2;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tvar originalKeys = Object.keys;\n\t\t\tObject.keys = function keys(object) {\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t} else {\n\t\t\t\t\treturn originalKeys(object);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/object-keys/index.js\n ** module id = 2\n ** module chunks = 0\n **/","import objectKeys from 'object-keys';\n\nexport default class Attrs {\n  static _toHtml(keys, obj) {\n    return keys\n      .map(key => `${key}=\"${obj[key]}\"`)\n      .join(' ');\n  }\n\n  static toHtml(obj) {\n    return Attrs._toHtml(objectKeys(obj).sort(), obj);\n  }\n\n  static _toSelector(keys, obj) {\n    return keys\n      .map(attrName => `[${attrName}='${obj[attrName]}']`)\n      .join('');\n  }\n\n  static toSelector(obj) {\n    return Attrs._toSelector(objectKeys(obj).sort(), obj);\n  }\n\n  constructor(obj) {\n    this._data = obj;\n\n    this._attrNames = objectKeys(this._data).sort();\n    this._attrNamesLen = this._attrNames.length;\n\n    this.html = Attrs._toHtml(this._attrNames, this._data);\n    this.selector = Attrs._toSelector(this._attrNames, this._data);\n  }\n\n  each(callback) {\n    for (let i = 0; i < this._attrNamesLen; ++i) {\n      const attrName = this._attrNames[i];\n      if (callback(attrName, this._data[attrName]) === false) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/classes/Attrs.js\n **/","function removeItem(array, item) {\n  const i = array.indexOf(item);\n  if (i !== -1) {\n    array.splice(i, 1);\n  }\n}\n\nfunction createIdGenerator() {\n  let id = 0;\n  return () => ++id;\n}\n\nfunction canUseDOM() {\n  return typeof document !== 'undefined';\n}\n\nexport default {\n  removeItem,\n  createIdGenerator,\n  canUseDOM,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils.js\n **/","import invariant from 'invariant';\n\nimport Attrs from './Attrs';\nimport LinkedListNode from './LinkedListNode';\n\nexport default class Controller extends LinkedListNode {\n  /**\n   * Controller types.\n   */\n  static get CTRL_TYPE() {\n    return {\n      TITLE: 'title',\n      ETC: 'etc',\n    };\n  }\n\n  /**\n   * Controller constructor.\n   *\n   * Controller is an object that manages an element in `<head>` element.\n   * If multiple controllers are bound to one element, only the last bound\n   * controller is used.\n   * The last bound controller is called top controller.\n   *\n   * When top controller is removed, previous controller of that one becomes\n   * the new top controller.\n   *\n   * @constructs Controller\n   * @param {string} type Type of controller.\n   * @param {string} tagName Element tag name.\n   * @param {object} attrs Object containing key-value attribute pairs, which is\n   * used to find element to bind controller to.\n   * @param {function} render A function that returns new element value.\n   * The type of return value depends on controller type.\n   * @param {object} options Controller options.\n   * @param {addListener} options.addListener A function that adds controller\n   * listener to event emitter.\n   * @param {removeListener} options.removeListener A function that removes\n   * controller listener.\n   * @return {Controller} a new Controller instance.\n   */\n  constructor(type, tagName, attrs, render, options = {}) {\n    super();\n\n    invariant(typeof render === 'function', 'render function is required');\n    invariant(!options.addListener || options.removeListener,\n              'addListener requires removeListener');\n\n    this.type = type;\n\n    this.attrs = new Attrs(attrs);\n    this.tagName = tagName;\n    this.selector = this.tagName + this.attrs.selector;\n\n    this.render = render;\n\n    this.addListener = options.addListener;\n    this.removeListener = options.removeListener;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/classes/Controller.js\n **/","function link(prev, next) {\n  if (prev) {\n    prev.next = next;\n  }\n\n  if (next) {\n    next.prev = prev;\n  }\n}\n\nexport default class LinkedListNode {\n  insertAfter(node) {\n    link(node, this.next);\n    link(this, node);\n  }\n\n  unlink() {\n    link(this.prev, this.next);\n    this.prev = undefined;\n    this.next = undefined;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/classes/LinkedListNode.js\n **/","import invariant from 'invariant';\nimport objectKeys from 'object-keys';\n\nimport {\n  removeItem,\n} from './utils';\n\nclass OverrideListener {\n  constructor(override) {\n    this._controllerListeners = [];\n    this._override = override;\n\n    this.listening = false;\n  }\n\n  onUpdate() {\n    this._controllerListeners.forEach(listener => listener.onUpdate());\n  }\n\n  addControllerListener(controllerListener) {\n    this._controllerListeners.push(controllerListener);\n\n    if (this._override.addListener && !this.listening) {\n      this.listening = true;\n      this._addListenerRet = this._override.addListener(() => {\n        this.onUpdate();\n      });\n    }\n  }\n\n  removeControllerListener(controllerListener) {\n    removeItem(this._controllerListeners, controllerListener);\n\n    if (this.listening && this._controllerListeners.length === 0) {\n      this._override.removeListener(this._addListenerRet);\n      this.listening = false;\n    }\n  }\n\n  isReadyToRemove() {\n    return !this.listening && this._controllerListeners.length === 0;\n  }\n}\n\nclass ControllerListener {\n  constructor({ controller, overrideListener, handler }) {\n    this._overrideListener = overrideListener;\n    this.controller = this._controller = controller;\n\n    this._onUpdate = handler.onUpdate;\n    this._onStop = handler.onStop || function onStop() {};\n\n    this._listening = false;\n  }\n\n  onUpdate() {\n    this._onUpdate(this._controller);\n    return this;\n  }\n\n  onStop() {\n    this._onStop(this._controller);\n    return this;\n  }\n\n  startListening() {\n    this._overrideListener.addControllerListener(this);\n    if (this._controller.addListener) {\n      this._addListenerRet = this._controller.addListener(() => {\n        this.onUpdate();\n      });\n    }\n    this._listening = true;\n    return this;\n  }\n\n  stopListening() {\n    this._overrideListener.removeControllerListener(this);\n    if (this._controller.removeListener) {\n      this._controller.removeListener(this._addListenerRet);\n    }\n    this._listening = false;\n    return this;\n  }\n\n  isListening() {\n    return this._listening;\n  }\n\n  isReadyToRemove() {\n    return !this.isListening();\n  }\n}\n\nexport default function createEventManager(eventHandlers) {\n  const _overrideListeners = {\n    /* [override.id]: overriderListener */\n  };\n\n  const _controllerListeners = {\n    /* [controller.id]: controllerListener */\n  };\n\n  function _ensureOverrideListener(override) {\n    let overrideListener = _overrideListeners[override.id];\n    if (!overrideListener) {\n      overrideListener = _overrideListeners[override.id] = new OverrideListener(override);\n    }\n    return overrideListener;\n  }\n\n  function _getControllerListener(controller) {\n    return _controllerListeners[controller.id];\n  }\n\n  function _ensureControllerListener(controller) {\n    let controllerListener = _getControllerListener(controller);\n    if (controllerListener) {\n      return controllerListener;\n    }\n\n    const overrideListener = _ensureOverrideListener(controller.override);\n    controllerListener = _controllerListeners[controller.id] = new ControllerListener({\n      controller,\n      overrideListener,\n      handler: eventHandlers[controller.type],\n    });\n    return controllerListener;\n  }\n\n  function isControllerListening(controller) {\n    const controllerListener = _getControllerListener(controller);\n    if (!controllerListener) {\n      return false;\n    }\n\n    return controllerListener.isListening();\n  }\n\n  function startListeningController(controller) {\n    const controllerListener = _ensureControllerListener(controller);\n    controllerListener\n      .onUpdate()\n      .startListening();\n  }\n\n  function stopListeningController(controller) {\n    invariant(isControllerListening(controller),\n              'Only listening controller can be stopped');\n\n    const controllerListener = _getControllerListener(controller);\n    controllerListener\n      .stopListening()\n      .onStop();\n  }\n\n  function removeController(controller) {\n    const controllerListener = _getControllerListener(controller);\n    if (!controllerListener) {\n      return;\n    }\n\n    invariant(controllerListener.isReadyToRemove(),\n              'ControllerListener is not ready to remove');\n\n    delete _controllerListeners[controller.id];\n  }\n\n  function updateOverride(override) {\n    const overrideListener = _overrideListeners[override.id];\n    if (!overrideListener) {\n      return;\n    }\n\n    overrideListener.onUpdate();\n  }\n\n  function removeOverride(override) {\n    const overrideListener = _overrideListeners[override.id];\n    if (!overrideListener) {\n      return;\n    }\n\n    invariant(overrideListener.isReadyToRemove(),\n              'OverrideListener is not ready to remove');\n\n    delete _overrideListeners[override.id];\n  }\n\n  function destroy() {\n    objectKeys(_controllerListeners)\n      .map(id => _controllerListeners[id])\n      .filter(listener => listener.isListening())\n      .forEach(listener => {\n        listener.stopListening().onStop();\n      });\n  }\n\n  return {\n    startListeningController,\n    stopListeningController,\n    isControllerListening,\n    removeController,\n    updateOverride,\n    removeOverride,\n    destroy,\n  };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/createEventManager.js\n **/","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/object-keys/isArguments.js\n ** module id = 8\n ** module chunks = 0\n **/"],"sourceRoot":""}